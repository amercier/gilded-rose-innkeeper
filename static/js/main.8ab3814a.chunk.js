(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{259:function(e,t,n){e.exports=n(481)},481:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(12),u=n.n(c),i=n(49),o=n(38),l=n(13),s=n(39),m=function(e){var t=e.href,n=e.children;return a.a.createElement("a",{href:t,target:"_blank",rel:"nofollow noopener noreferrer"},n)},f=n(53),d=n(487),h=n(491),b=n(228),p=n.n(b);function g(e){var t,n,r,a=e.items,c=e.nameSearch,u=e.qualityRangeStart,i=e.qualityRangeEnd;return Object.values(a).filter(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.every(function(t){return t(e)})}}(function(e,t){var n=t.toLowerCase();return function(t){return t[e].toLowerCase().includes(n)}}("name",c),(t="quality",n=u,r=i,function(e){return e[t]>=n&&e[t]<=r})))}var v=n(490),y="ITEMS_POLL_START",E="ITEMS_POLL_STOP",O="ITEMS_FETCH",j="ITEMS_FETCH_ERROR",x="ITEMS_SET",w="ITEMS_NAME_SEARCH",I="ITEMS_QUALITY_FILTER",k="NOTIFICATION",S=function(e){return{type:x,items:e}},T=function(){return{type:O}},q=function(e){return{type:j,error:e}},A=Object(i.b)(function(e){return{value:e.nameSearch}},function(e){return{onChange:function(t){return e(function(e){return{type:w,query:e}}(t))}}})(function(e){var t=e.value,n=e.onChange;return a.a.createElement(v.a,{placeholder:"Name",value:t,prefix:a.a.createElement(l.a,{type:"search",style:{color:""===t?"rgba(0,0,0,.25)":"#1890ff"}}),suffix:""===t?null:a.a.createElement(l.a,{type:"close",style:{color:"rgba(0,0,0,.25)"},onClick:function(){return n("")}}),onClick:function(e){return e.stopPropagation()},onChange:function(e){return n(e.target.value)}})}),R=n(87),C=n(41),M=n(91),N=n(488);function D(e,t,n){return[e].concat(Object(M.a)(n),[t]).reduce(function(n,r){return Object(C.a)({},n,Object(R.a)({},r,r===e||r===t?"".concat(r):a.a.createElement(a.a.Fragment,null)))},{})}var _=Object(i.b)(function(e){return{marks:Object.values(e.items).reduce(function(e,t){var n=t.quality;return n in e?e:[].concat(Object(M.a)(e),[n])},[]),min:e.qualityMin,max:e.qualityMax,rangeStart:e.qualityRangeStart,rangeEnd:e.qualityRangeEnd}},function(e){return{onChange:function(t){return e(function(e,t){return{type:I,rangeStart:e,rangeEnd:t,meta:{debounce:{time:200}}}}.apply(void 0,Object(M.a)(t)))}}})(function(e){var t=e.min,n=e.max,r=e.marks,c=e.rangeStart,u=e.rangeEnd,i=e.onChange;return a.a.createElement(N.a,Object.assign({range:!0,defaultValue:[c,u],marks:D(t,n,r)},{min:t,max:n,onChange:i}))}),L=n(225),F=n(236),P=n.n(F),G=n(237),H=n.n(G);function B(){var e=Object(o.a)(["\n  border-bottom: 1px dotted;\n  cursor: help;\n"]);return B=function(){return e},e}var K=s.a.span(B()),J=function(e){var t=e.value;return t<1e3?t:a.a.createElement(L.a,{title:H()(t,{fractionDigits:0,symbols:{grouping:" "}})},a.a.createElement(K,null,P()(t,{decimals:1,separator:""})))},U={up:"#52c41a",down:"#f5222d",stable:"#bfbfbf"},W={up:"caret-up",down:"caret-down",stable:"minus"};var Y=function(e){var t=e.value,n=e.style,r=function(e){return 0===e?"stable":e<0?"down":"up"}(t);return a.a.createElement(l.a,{type:W[r],style:Object(C.a)({},n,{color:U[r]})})};Y.defaultProps={style:null};var Q=Y,z={STANDARD:"Standard",CONJURED:"Conjured",BACKSTAGE_PASS:"Backstage pass",LEGENDARY:"Legendary"},$={STANDARD:"#000",CONJURED:"#52c41a",BACKSTAGE_PASS:"#1890ff",LEGENDARY:"#ff7a45"};function V(){var e=Object(o.a)(["\n  width: 20rem;\n  padding: 0.5rem 1rem;\n  background: white;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n"]);return V=function(){return e},e}function X(){var e=Object(o.a)(["\n  font-style: normal;\n  background: #ffc069;\n"]);return X=function(){return e},e}var Z=d.a.Column,ee=[[0,2],[2,5],[5,10],[10,20],[20,1/0]],te=Object.keys($),ne=s.a.em(X()),re=s.a.div(V()),ae=Object(i.b)(function(e){return{items:g(e),loading:e.fetchingItems&&!e.fetchedItemsOnce,emptyText:e.fetchItemsError?"An error occurred while retrieving the items list.":"No items for sale.",nameSearch:e.nameSearch,qualityMin:e.qualityMin,qualityMax:e.qualityMax}})(function(e){var t=e.items,n=e.loading,r=e.emptyText,c=e.nameSearch,u=e.qualityMin,i=e.qualityMax;return a.a.createElement(d.a,{dataSource:t,loading:n,locale:{emptyText:r},pagination:!1,rowKey:"id"},a.a.createElement(Z,{title:a.a.createElement(A,null),key:"name",dataIndex:"name",render:function(e){return a.a.createElement(p.a,{searchWords:[c],textToHighlight:e,highlightTag:function(e){var t=e.children;return a.a.createElement(ne,null,t)},autoEscape:!0})},sorter:function(e,t){return e.name.localeCompare(t.name)}}),a.a.createElement(Z,{title:"Price",key:"sellIn",dataIndex:"sellIn",align:"right",render:function(e,t){var n=t.sellInTrend;return a.a.createElement(a.a.Fragment,null,a.a.createElement(J,{value:e}),a.a.createElement(Q,{value:n,style:{marginLeft:"0.5rem"}}))},sorter:function(e,t){return e.sellIn-t.sellIn},filters:ee.map(function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return{value:"".concat(n,":").concat(r),text:r===1/0?"Higher than ".concat(n):"".concat(n," to ").concat(r)}}),onFilter:function(e,t){var n=t.sellIn,r=e.split(":"),a=Object(f.a)(r,2),c=a[0],u=a[1];return n>=c&&n<=u}}),a.a.createElement(Z,{title:"Quality",key:"quality",dataIndex:"quality",align:"right",render:function(e,t){var n=t.qualityTrend;return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{type:"circle",percent:100*(e-u)/i,format:function(){return e},width:48}),a.a.createElement(Q,{value:n,style:{marginLeft:"0.5rem"}}))},sorter:function(e,t){return e.quality-t.quality},filterDropdown:function(){return a.a.createElement(re,null,a.a.createElement(_,null))}}),a.a.createElement(Z,{title:"Type",key:"type",dataIndex:"type",align:"center",render:function(e){return a.a.createElement("span",{style:{color:$[e]}},z[e])},sorter:function(e,t){return te.indexOf(e.type)-te.indexOf(t.type)},filters:Object.entries(z).map(function(e){var t=Object(f.a)(e,2);return{value:t[0],text:t[1]}}),onFilter:function(e,t){return t.type===e}}))}),ce=n(485),ue=n(489),ie=n(475),oe=n(474),le=n(486),se=n(483),me=n(226),fe=n(482);function de(){var e=Object(o.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return de=function(){return e},e}function he(){var e=Object(o.a)(["\n  margin-top: 4rem;\n  width: 100%;\n  height: 0;\n  padding-top: ","%;\n  position: relative;\n"]);return he=function(){return e},e}var be=s.a.div(he(),100/1.5),pe=s.a.div(de()),ge=Object(i.b)(function(e){return{items:g(e)}})(function(e){var t=e.items.reduce(function(e,t){var n=t.type,r=t.name,a=t.sellIn,c=t.quality;return"LEGENDARY"===n?e:(e[n]||(e[n]={name:z[n]||"Unknown",data:[],fill:$[n]||$.STANDARD}),e[n].data.push({x:c,y:a,name:r}),e)},{});return a.a.createElement(be,null,a.a.createElement(pe,null,a.a.createElement(ce.a,{width:"100%",height:"100%"},a.a.createElement(ue.a,{minWidth:100,minHeight:75},a.a.createElement(ie.a,{type:"number",dataKey:"x",name:"Quality",unit:"%"}),a.a.createElement(oe.a,{type:"number",dataKey:"y",name:"Price",unit:"$"}),a.a.createElement(le.a,{strokeDasharray:"3 3"}),a.a.createElement(se.a,{cursor:{strokeDasharray:"3 3"}}),a.a.createElement(me.a,null),Object.entries(t).map(function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return a.a.createElement(fe.a,Object.assign({key:n},r))})))))});function ve(){var e=Object(o.a)(["\n  ","\n  text-align: center;\n"]);return ve=function(){return e},e}function ye(){var e=Object(o.a)(["\n  ","\n  padding: ",";\n  box-sizing: border-box;\n  min-height: calc(100vh - 2 * ",");\n  background: #fff;\n"]);return ye=function(){return e},e}function Ee(){var e=Object(o.a)(["\n  ","\n  ","\n  padding: 0 ",";\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(o.a)(["\n  height: ",";\n  line-height: ",";\n  background: #001529;\n  color: #fff;\n"]);return Oe=function(){return e},e}function je(){var e=Object(o.a)(["\n  box-sizing: border-box;\n  background: #e9e9e9;\n  min-height: 100vh;\n"]);return je=function(){return e},e}var xe=a.a.createElement(m,{href:"https://github.com/amercier"},"Alex Mercier"),we=a.a.createElement(m,{href:"https://brennus-analytics.com/"},"Brennus Analytics"),Ie=s.a.div(je()),ke="\n  width: 100%;\n  max-width: 60rem;\n  margin: 0 auto;\n",Se="\n  height: ".concat("4rem",";\n  line-height: ").concat("4rem",";\n"),Te=s.a.div(Oe(),"4rem","4rem"),qe=s.a.div(Ee(),ke,Se,"4rem"),Ae=s.a.div(ye(),ke,"4rem","4rem"),Re=s.a.div(ve(),Se),Ce=function(){return a.a.createElement(Ie,null,a.a.createElement(Te,null,a.a.createElement(qe,null,a.a.createElement(l.a,{type:"home"})," Gilded Rose Inn - Administration")),a.a.createElement(Ae,null,a.a.createElement(ae,null),a.a.createElement(ge,null)),a.a.createElement(Re,null,"Created by ",xe," for ",we,"."))},Me=n(101),Ne=n(255),De=n.n(Ne),_e=(n(476),n(135)),Le={items:[],fetchingItems:!1,fetchedItemsOnce:!1,fetchItemsError:null,nameSearch:"",qualityMin:0,qualityMax:100,qualityRangeStart:0,qualityRangeEnd:100};var Fe=n(32),Pe=n.n(Fe),Ge=n(29),He=n(256),Be=function(e,t){return{type:k,message:e,description:t}},Ke="".concat("/api","/items/"),Je=Pe.a.mark(Ve),Ue=Pe.a.mark(Xe),We=Pe.a.mark(Ze),Ye=Pe.a.mark(et);function Qe(e,t){return t.reduce(function(t,n){var r=Object(f.a)(t,4),a=r[0],c=r[1],u=r[2],i=r[3],o=e[n.id],l=o&&o.quality-n.quality,s=o&&o.sellIn-n.sellIn;return[Object(C.a)({},a,Object(R.a)({},n.id,Object(C.a)({},n,{qualityTrend:l||(o?o.qualityTrend:0),sellInTrend:s||(o?o.sellInTrend:0)}))),o?c:c+1,o?u-1:u,l||s?i+1:i]},[{},0,Object.keys(e).length,0])}function ze(){return $e.apply(this,arguments)}function $e(){return($e=Object(He.a)(Pe.a.mark(function e(){var t;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ke);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ve(){var e,t,n,r,a,c,u,i,o,l,s;return Pe.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,Object(Ge.b)(ze);case 3:return e=m.sent,m.next=6,Object(Ge.e)(function(e){return[e.items,e.fetchedItemsOnce]});case 6:return t=m.sent,n=Object(f.a)(t,2),r=n[0],a=n[1],c=Qe(r,e),u=Object(f.a)(c,4),i=u[0],o=u[1],l=u[2],s=u[3],m.next=13,Object(Ge.c)(S(i));case 13:if(!a||!(o||l||s)){m.next=16;break}return m.next=16,Object(Ge.c)(Be("Items have changed!","\n            ".concat(o||"No"," new item").concat(o>1?"s":""," have been added.\n            ").concat(l||"No"," item").concat(l>1?"s":""," have been removed.\n            ").concat(s||"No"," item").concat(s>1?"s":""," have been updated.\n          ")));case 16:m.next=22;break;case 18:return m.prev=18,m.t0=m.catch(0),m.next=22,Object(Ge.c)(q(m.t0));case 22:case"end":return m.stop()}},Je,this,[[0,18]])}function Xe(e){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(Ge.c)(T());case 3:return t.next=5,Object(Ge.b)(_e.b,e);case 5:t.next=0;break;case 7:case"end":return t.stop()}},Ue,this)}function Ze(){var e;return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(Ge.f)(y);case 3:return e=t.sent,t.next=6,Object(Ge.d)([Object(Ge.b)(Xe,e.delay),Object(Ge.f)(E)]);case 6:t.next=0;break;case 8:case"end":return t.stop()}},We,this)}function et(){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Object(Ge.g)(O,Ve),Ze()]);case 2:case"end":return e.stop()}},Ye,this)}var tt=n(492),nt=Pe.a.mark(ct),rt=Pe.a.mark(ut);function at(e,t){tt.a.open({message:e,description:t})}function ct(e){var t,n;return Pe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.message,n=e.description,r.next=3,Object(Ge.b)(at,t,n);case 3:case"end":return r.stop()}},nt,this)}function ut(){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Object(Ge.g)(k,ct)]);case 2:case"end":return e.stop()}},rt,this)}var it=Pe.a.mark(ot);function ot(){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([et(),ut()]);case 2:case"end":return e.stop()}},it,this)}var lt=De()(),st=Object(_e.a)(),mt=Object(Me.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(C.a)({},e,{fetchingItems:!0});case j:return Object(C.a)({},e,{fetchingItems:!1,fetchedItemsOnce:!0,fetchItemsError:t.error});case x:return Object(C.a)({},e,{items:t.items,fetchingItems:!1,fetchedItemsOnce:!0,fetchItemsError:null});case w:return Object(C.a)({},e,{nameSearch:t.query});case I:return Object(C.a)({},e,{qualityRangeStart:t.rangeStart,qualityRangeEnd:t.rangeEnd});default:return e}},void 0,Me.a.apply(void 0,Object(M.a)([lt,st])));st.run(ot),mt.dispatch({type:y,delay:5e3});var ft=mt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4]\d|[01]?\d\d?)){3}$/));n(479);u.a.render(a.a.createElement(i.a,{store:ft},a.a.createElement(Ce,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[259,2,1]]]);
//# sourceMappingURL=main.8ab3814a.chunk.js.map