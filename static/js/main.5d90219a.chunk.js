(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,n){e.exports=n(334)},334:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(8),u=n.n(c),i=n(42),o=n(29),l=n(12),s=n(30),f=function(e){var t=e.href,n=e.children;return a.a.createElement("a",{href:t,target:"_blank",rel:"nofollow noopener noreferrer"},n)},m=n(45),d=n(335),h=n(337),b=n(154),p=n.n(b);function g(e){var t,n,r,a=e.items,c=e.nameSearch,u=e.qualityRangeStart,i=e.qualityRangeEnd;return Object.values(a).filter(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.every(function(t){return t(e)})}}(function(e,t){var n=t.toLowerCase();return function(t){return t[e].toLowerCase().includes(n)}}("name",c),(t="quality",n=u,r=i,function(e){return e[t]>=n&&e[t]<=r})))}var v=n(338),y="ITEMS_POLL_START",E="ITEMS_POLL_STOP",O="ITEMS_FETCH",x="ITEMS_FETCH_ERROR",j="ITEMS_SET",w="ITEMS_NAME_SEARCH",I="ITEMS_QUALITY_FILTER",S="NOTIFICATION",k=function(e){return{type:j,items:e}},T=function(){return{type:O}},q=function(e){return{type:x,error:e}},A=Object(i.b)(function(e){return{value:e.nameSearch}},function(e){return{onChange:function(t){return e(function(e){return{type:w,query:e}}(t))}}})(function(e){var t=e.value,n=e.onChange;return a.a.createElement(v.a,{placeholder:"Name",value:t,prefix:a.a.createElement(l.a,{type:"search",style:{color:""===t?"rgba(0,0,0,.25)":"#1890ff"}}),suffix:""===t?null:a.a.createElement(l.a,{type:"close",style:{color:"rgba(0,0,0,.25)"},onClick:function(){return n("")}}),onClick:function(e){return e.stopPropagation()},onChange:function(e){return n(e.target.value)}})}),C=n(61),R=n(27),M=n(63),_=n(336);function N(e,t,n){return[e].concat(Object(M.a)(n),[t]).reduce(function(n,r){return Object(R.a)({},n,Object(C.a)({},r,r===e||r===t?"".concat(r):a.a.createElement(a.a.Fragment,null)))},{})}var L=Object(i.b)(function(e){return{marks:Object.values(e.items).reduce(function(e,t){var n=t.quality;return n in e?e:[].concat(Object(M.a)(e),[n])},[]),min:e.qualityMin,max:e.qualityMax,rangeStart:e.qualityRangeStart,rangeEnd:e.qualityRangeEnd}},function(e){return{onChange:function(t){return e(function(e,t){return{type:I,rangeStart:e,rangeEnd:t,meta:{debounce:{time:200}}}}.apply(void 0,Object(M.a)(t)))}}})(function(e){var t=e.min,n=e.max,r=e.marks,c=e.rangeStart,u=e.rangeEnd,i=e.onChange;return a.a.createElement(_.a,Object.assign({range:!0,defaultValue:[c,u],marks:N(t,n,r)},{min:t,max:n,onChange:i}))}),D=n(152),F=n(161),P=n.n(F),B=n(162),G=n.n(B);function H(){var e=Object(o.a)(["\n  border-bottom: 1px dotted;\n  cursor: help;\n"]);return H=function(){return e},e}var J=s.a.span(H()),K=function(e){var t=e.value;return t<1e3?t:a.a.createElement(D.a,{title:G()(t,{fractionDigits:0,symbols:{grouping:" "}})},a.a.createElement(J,null,P()(t,{decimals:1,separator:""})))},U={up:"#52c41a",down:"#f5222d",stable:"#bfbfbf"},W={up:"caret-up",down:"caret-down",stable:"minus"},Y=function(e){var t=e.value,n=e.style,r=0===t?"stable":t<0?"down":"up";return a.a.createElement(l.a,{type:W[r],style:Object(R.a)({},n,{color:U[r]})})};Y.defaultProps={style:null};var z=Y;function Q(){var e=Object(o.a)(["\n  width: 20rem;\n  padding: 0.5rem 1rem;\n  background: white;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n"]);return Q=function(){return e},e}function V(){var e=Object(o.a)(["\n  font-style: normal;\n  background: #ffc069;\n"]);return V=function(){return e},e}var $=d.a.Column,X={STANDARD:"Standard",CONJURED:"Conjured",BACKSTAGE_PASS:"Backstage pass",LEGENDARY:"Legendary"},Z={STANDARD:"#000",CONJURED:"#52c41a",BACKSTAGE_PASS:"#1890ff",LEGENDARY:"#ff7a45"},ee=[[0,2],[2,5],[5,10],[10,20],[20,1/0]],te=Object.keys(Z),ne=s.a.em(V()),re=s.a.div(Q()),ae=Object(i.b)(function(e){return{items:g(e),loading:e.fetchingItems&&!e.fetchedItemsOnce,emptyText:e.fetchItemsError?"An error occurred while retrieving the items list.":"No items for sale.",nameSearch:e.nameSearch,qualityMin:e.qualityMin,qualityMax:e.qualityMax}})(function(e){var t=e.items,n=e.loading,r=e.emptyText,c=e.nameSearch,u=e.qualityMin,i=e.qualityMax;return a.a.createElement(d.a,{dataSource:t,loading:n,locale:{emptyText:r},pagination:!1,rowKey:"id"},a.a.createElement($,{title:a.a.createElement(A,null),key:"name",dataIndex:"name",render:function(e){return a.a.createElement(p.a,{searchWords:[c],textToHighlight:e,highlightTag:function(e){var t=e.children;return a.a.createElement(ne,null,t)},autoEscape:!0})},sorter:function(e,t){return e.name.localeCompare(t.name)}}),a.a.createElement($,{title:"Price",key:"sellIn",dataIndex:"sellIn",align:"right",render:function(e,t){var n=t.sellInTrend;return a.a.createElement(a.a.Fragment,null,a.a.createElement(K,{value:e}),a.a.createElement(z,{value:n,style:{marginLeft:"0.5rem"}}))},sorter:function(e,t){return e.sellIn-t.sellIn},filters:ee.map(function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return{value:"".concat(n,":").concat(r),text:r===1/0?"Higher than ".concat(n):"".concat(n," to ").concat(r)}}),onFilter:function(e,t){var n=t.sellIn,r=e.split(":"),a=Object(m.a)(r,2),c=a[0],u=a[1];return n>=c&&n<=u}}),a.a.createElement($,{title:"Quality",key:"quality",dataIndex:"quality",align:"right",render:function(e,t){var n=t.qualityTrend;return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{type:"circle",percent:100*(e-u)/i,format:function(){return e},width:48}),a.a.createElement(z,{value:n,style:{marginLeft:"0.5rem"}}))},sorter:function(e,t){return e.quality-t.quality},filterDropdown:function(){return a.a.createElement(re,null,a.a.createElement(L,null))}}),a.a.createElement($,{title:"Type",key:"type",dataIndex:"type",align:"center",render:function(e){return a.a.createElement("span",{style:{color:Z[e]}},X[e])},sorter:function(e,t){return te.indexOf(e.type)-te.indexOf(t.type)},filters:Object.entries(X).map(function(e){var t=Object(m.a)(e,2);return{value:t[0],text:t[1]}}),onFilter:function(e,t){return t.type===e}}))});function ce(){var e=Object(o.a)(["\n  ","\n  text-align: center;\n"]);return ce=function(){return e},e}function ue(){var e=Object(o.a)(["\n  ","\n  padding: ",";\n  box-sizing: border-box;\n  min-height: calc(100vh - 2 * ",");\n  background: #fff;\n"]);return ue=function(){return e},e}function ie(){var e=Object(o.a)(["\n  ","\n  ","\n  padding: 0 ",";\n"]);return ie=function(){return e},e}function oe(){var e=Object(o.a)(["\n  height: ",";\n  line-height: ",";\n  background: #001529;\n  color: #fff;\n"]);return oe=function(){return e},e}function le(){var e=Object(o.a)(["\n  box-sizing: border-box;\n  background: #e9e9e9;\n  min-height: 100vh;\n"]);return le=function(){return e},e}var se=a.a.createElement(f,{href:"https://github.com/amercier"},"Alex Mercier"),fe=a.a.createElement(f,{href:"https://brennus-analytics.com/"},"Brennus Analytics"),me=s.a.div(le()),de="\n  width: 100%;\n  max-width: 60rem;\n  margin: 0 auto;\n",he="\n  height: ".concat("4rem",";\n  line-height: ").concat("4rem",";\n"),be=s.a.div(oe(),"4rem","4rem"),pe=s.a.div(ie(),de,he,"4rem"),ge=s.a.div(ue(),de,"4rem","4rem"),ve=s.a.div(ce(),he),ye=function(){return a.a.createElement(me,null,a.a.createElement(be,null,a.a.createElement(pe,null,a.a.createElement(l.a,{type:"home"})," Gilded Rose Inn - Administration")),a.a.createElement(ge,null,a.a.createElement(ae,null)),a.a.createElement(ve,null,"Created by ",se," for ",fe,"."))},Ee=n(69),Oe=n(169),xe=n.n(Oe),je=(n(329),n(89)),we={items:[],fetchingItems:!1,fetchedItemsOnce:!1,fetchItemsError:null,nameSearch:"",qualityMin:0,qualityMax:100,qualityRangeStart:0,qualityRangeEnd:100};var Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(R.a)({},e,{fetchingItems:!0});case x:return Object(R.a)({},e,{fetchingItems:!1,fetchedItemsOnce:!0,fetchItemsError:t.error});case j:return Object(R.a)({},e,{items:t.items,fetchingItems:!1,fetchedItemsOnce:!0,fetchItemsError:null});case w:return Object(R.a)({},e,{nameSearch:t.query});case I:return Object(R.a)({},e,{qualityRangeStart:t.rangeStart,qualityRangeEnd:t.rangeEnd});default:return e}},Se=n(20),ke=n.n(Se),Te=n(19),qe=n(170),Ae=function(e,t){return{type:S,message:e,description:t}},Ce="".concat("/api","/items/"),Re=ke.a.mark(Pe),Me=ke.a.mark(Be),_e=ke.a.mark(Ge),Ne=ke.a.mark(He);function Le(e,t){return t.reduce(function(t,n){var r=Object(m.a)(t,4),a=r[0],c=r[1],u=r[2],i=r[3],o=e[n.id],l=o&&o.quality-n.quality,s=o&&o.sellIn-n.sellIn;return[Object(R.a)({},a,Object(C.a)({},n.id,Object(R.a)({},n,{qualityTrend:l||(o?o.qualityTrend:0),sellInTrend:s||(o?o.sellInTrend:0)}))),o?c:c+1,o?u-1:u,l||s?i+1:i]},[{},0,Object.keys(e).length,0])}function De(){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(qe.a)(ke.a.mark(function e(){var t;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ce);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Pe(){var e,t,n,r,a,c,u,i,o,l,s;return ke.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,Object(Te.b)(De);case 3:return e=f.sent,f.next=6,Object(Te.e)(function(e){return[e.items,e.fetchedItemsOnce]});case 6:return t=f.sent,n=Object(m.a)(t,2),r=n[0],a=n[1],c=Le(r,e),u=Object(m.a)(c,4),i=u[0],o=u[1],l=u[2],s=u[3],f.next=13,Object(Te.c)(k(i));case 13:if(!a||!(o||l||s)){f.next=16;break}return f.next=16,Object(Te.c)(Ae("Items have changed!","\n            ".concat(o||"No"," new item").concat(o>1?"s":""," have been added.\n            ").concat(l||"No"," item").concat(l>1?"s":""," have been removed.\n            ").concat(s||"No"," item").concat(s>1?"s":""," have been updated.\n          ")));case 16:f.next=22;break;case 18:return f.prev=18,f.t0=f.catch(0),f.next=22,Object(Te.c)(q(f.t0));case 22:case"end":return f.stop()}},Re,this,[[0,18]])}function Be(e){return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(Te.c)(T());case 3:return t.next=5,Object(Te.b)(je.b,e);case 5:t.next=0;break;case 7:case"end":return t.stop()}},Me,this)}function Ge(){var e;return ke.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(Te.f)(y);case 3:return e=t.sent,t.next=6,Object(Te.d)([Object(Te.b)(Be,e.delay),Object(Te.f)(E)]);case 6:t.next=0;break;case 8:case"end":return t.stop()}},_e,this)}function He(){return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.a)([Object(Te.g)(O,Pe),Ge()]);case 2:case"end":return e.stop()}},Ne,this)}var Je=n(339),Ke=ke.a.mark(Ye),Ue=ke.a.mark(ze);function We(e,t){Je.a.open({message:e,description:t})}function Ye(e){var t,n;return ke.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.message,n=e.description,r.next=3,Object(Te.b)(We,t,n);case 3:case"end":return r.stop()}},Ke,this)}function ze(){return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.a)([Object(Te.g)(S,Ye)]);case 2:case"end":return e.stop()}},Ue,this)}var Qe=ke.a.mark(Ve);function Ve(){return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.a)([He(),ze()]);case 2:case"end":return e.stop()}},Qe,this)}var $e=xe()(),Xe=Object(je.a)(),Ze=Object(Ee.c)(Ie,void 0,Ee.a.apply(void 0,Object(M.a)([$e,Xe])));Xe.run(Ve),Ze.dispatch({type:y,delay:5e3});var et=Ze;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(332);u.a.render(a.a.createElement(i.a,{store:et},a.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[173,2,1]]]);
//# sourceMappingURL=main.5d90219a.chunk.js.map